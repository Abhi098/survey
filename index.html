
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    <!-- This styling is for the Web Chat demonstration purposes. It is recommended that style is moved to separate file for organization in larger projects -->
	<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>	
 <style type="text/css">
      html,
      body {
        background-color: #F1F0F0;
        height: 100%;
        
      }

      .css-eycyw2 {
        background-color: #FAF9F8; 
      }

      .main{
        background-color: #F1F0F0;
        margin: 15px;
      }
      .css-eycyw2 .main {
        border-top: none;
      }

      .css-1vieo9r {
        background-color: #F1F0F0;
      }

      .css-o3xlyv {
        background-color: #F1F0F0;
        font-family: Segoe UI;
        font-size: 14px;
        line-height: 20px;
      }

      .from-user .css-o3xlyv {
        color: #F1F0F0;
        background-color: #1a4e80;
      }


	  
	  html, html body, html body.globalBackground, .globalBackground {
    background-attachment: scroll;
    background-color: #1a4e80;
    background-repeat: repeat-x;
    background-position: 0 0;
    background-image: url(data:image/jpeg;base64,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);
    background-size: auto;
	margin: 0;
    }

      #chatwindow {
        border-radius: 4px;
        box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);
        height: calc(100% - 50px);
        left: 10px;
        overflow: hidden;
        position: fixed;
        top: 10px;
        width: 560px;
      }


      #heading {
        background-color: #1a4e80;
        border-top-left-radius: 4px;
        border-top-right-radius: 4px;
        height: 48px;
        left: 10px;
		right: 10px;
        overflow: hidden;
        position: fixed;
        top: 10px;
		max-width:500px;
		margin: auto;
      }



      h1 {
	  /* This is a single-line comment */
        display: table-cell;
        vertical-align: middle;
        padding: 11px 0px 0px 11px;
        color: #fff;
		font: 400 17px Arial;
		letter-spacing: normal;
		word-spacing: normal;
		text-transform: none;
		text-indent: 0px;
		text-align: center;
		text-shadow: 0 0 0.125rem #000;
      }

		#webchat {
			border-bottom-left-radius: 4px;
			border-bottom-right-radius: 4px;
			height: calc(100% - 70px);
			left: 10px;
			right: 10px;
			overflow: hidden;
			position: fixed;
			top: 60px;
			max-width:500px;
			margin: auto;
		}

    </style>
	
</head>
<body>
    <div>
        <div id="heading">
            <!-- Change the h1 text to change the bot name -->    
            <h1>Survey</h1>
			<a href='mailto:askhr@slb.com?subject=Hudson_HRVirtualAssistant_support' alt='Help' title='Help'><img align=right style="vertical-align:top;margin:-20px 4px;width:30px;height:30px"" src="help.png"></a>
				
        </div>  
        <div id="webchat" role="main"> </div>
    </div>    

	<script src="https://cdn.botframework.com/botframework-webchat/latest/webchat.js"></script>

  <script>
        const styleOptions = {
		botAvatarImage: 'https://askhr.test.slb.com/pva/Kal.png', 
		backgroundColor: '#FAF9F8',
		suggestedActionBackground: 'White',
        bubbleBackground: 'rgba(255, 200, 200, 0.2)',
        bubbleFromUserBackground: 'rgba(0, 255, 0, 0.2)',
        primaryFont:'Calibri',
        botAvatarBackgroundColor: 'orange',
        accent: '#0063B1',
        backgroundColor: 'White',
        cardEmphasisBackgroundColor: '#F0F0F0',
        paddingRegular: 10,
        paddingWide: 10 * 2,
        subtle: '#767676',
        bubbleMaxWidth: 480,
		bubbleMinHeight: 40,
		bubbleMinWidth: 250, 
		bubbleNubOffset: 'bottom',
		bubbleNubSize: 0,
		bubbleTextColor: 'Black',
		bubbleBorderRadius: 9,
		bubbleFromUserBorderRadius: 9,
		suggestedActionBackground: 'rgba(255, 255, 255, 0.2)',
		suggestedActionHeight: 40,
		suggestedActionDisabledBorderColor: '#E6E6E6',
		sendBoxTextWrap: true,
	    hideUploadButton: false
        };
      
        // Add your BOT ID below 
        var BOT_ID ="6a9f2f3b-af94-4019-b64d-1bdabc6f820d"; 
        var theURL = "https://powerva.microsoft.com/api/botmanagement/v1/directline/directlinetoken?botId=" + BOT_ID;
	let params1 = (new URL(document.location)).searchParams;
    	let name = params1.get("surveyid")	
        // Triggers bot with initial message, in order to have greeting message render on load.
        const store = WebChat.createStore({}, ({ dispatch }) => next => action => {
          const { type } = action;
          if (action.type === "DIRECT_LINE/CONNECT_FULFILLED") {
              dispatch({
              type: "WEB_CHAT/SEND_EVENT",
              payload: {
                name: "startConversation",
                type: "event",
              },
            });
          }
          if (action.type === "DIRECT_LINE/CONNECT_FULFILLED") {
            dispatch({
              type: "WEB_CHAT/SEND_EVENT",
              payload: {
                name: "pvaSetContext",
                value: {
                  surveyid:name,
                },
              },
            });
          }
          return next(action);
        });		

      fetch(theURL)
            .then(response => response.json())
            .then(conversationInfo => {
                window.WebChat.renderWebChat(
                    {
                        directLine: window.WebChat.createDirectLine({
                            token: conversationInfo.token,
                            
                        }),
						store,
                        styleOptions
                    },
                    document.getElementById('webchat')
                );
            })
            .catch(err => console.error("An error occurred: " + err));
     

    </script>
	
	
  </body>
</html>
