
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    <!-- This styling is for the Web Chat demonstration purposes. It is recommended that style is moved to separate file for organization in larger projects -->
	<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>	
 <style type="text/css">
      html,
      body {
        background-color: #F1F0F0;
        height: 100%;
        
      }

      .css-eycyw2 {
        background-color: #FAF9F8; 
      }

      .main{
        background-color: #F1F0F0;
        margin: 15px;
      }
      .css-eycyw2 .main {
        border-top: none;
      }

      .css-1vieo9r {
        background-color: #F1F0F0;
      }

      .css-o3xlyv {
        background-color: #F1F0F0;
        font-family: Segoe UI;
        font-size: 14px;
        line-height: 20px;
      }

      .from-user .css-o3xlyv {
        color: #F1F0F0;
        background-color: #1a4e80;
      }


	  
	  html, html body, html body.globalBackground, .globalBackground {
    background-attachment: scroll;
    background-color: #1a4e80;
    background-repeat: repeat-x;
    background-position: 0 0;
    background-image: url(https://www.w3schools.com/w3images/forestbridge.jpg);
    background-size: auto;
	margin: 0;
    }

      #chatwindow {
        border-radius: 4px;
        box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);
        height: calc(100% - 50px);
        left: 10px;
        overflow: hidden;
        position: fixed;
        top: 10px;
        width: 560px;
      }


      #heading {
        background-color: #1a4e80;
        border-top-left-radius: 4px;
        border-top-right-radius: 4px;
        height: 48px;
        left: 10px;
		right: 10px;
        overflow: hidden;
        position: fixed;
        top: 10px;
		max-width:500px;
		margin: auto;
      }



      h1 {
	  /* This is a single-line comment */
        display: table-cell;
        vertical-align: middle;
        padding: 11px 0px 0px 11px;
        color: #fff;
		font: 400 17px Arial;
		letter-spacing: normal;
		word-spacing: normal;
		text-transform: none;
		text-indent: 0px;
		text-align: center;
		text-shadow: 0 0 0.125rem #000;
      }

		#webchat {
			border-bottom-left-radius: 4px;
			border-bottom-right-radius: 4px;
			height: calc(100% - 70px);
			left: 10px;
			right: 10px;
			overflow: hidden;
			position: fixed;
			top: 60px;
			max-width:500px;
			margin: auto;
		}

    </style>
	
</head>
<body>
	<h1>hello</h1>
    <div>
        <div id="heading">
            <!-- Change the h1 text to change the bot name -->    
            <h1>Survey</h1>
			<a href='mailto:askhr@slb.com?subject=Hudson_HRVirtualAssistant_support' alt='Help' title='Help'><img align=right style="vertical-align:top;margin:-20px 66px;width:30px;height:30px"" src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRqHPEH09CupFRd-d5TIxpkKFcWKd9SfO73Og&usqp=CAU"/></a>
			<a href='javascript:location.reload();' alt='Refresh' title='Refresh'><img align=right style="vertical-align:top;margin:-20px 38px;width:30px;height:30px"" src="data:image/png;base64,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"/></a>		
        </div>  
        <div id="webchat" role="main"> </div>
    </div>    

	<script src="https://cdn.botframework.com/botframework-webchat/latest/webchat.js"></script>

  <script>
        const styleOptions = {
		botAvatarImage: 'https://askhr.test.slb.com/pva/Kal.png', 
		backgroundColor: '#FAF9F8',
		suggestedActionBackground: 'White',
        bubbleBackground: 'rgba(255, 200, 200, 0.2)',
        bubbleFromUserBackground: 'rgba(0, 255, 0, 0.2)',
        primaryFont:'Calibri',
        botAvatarBackgroundColor: 'orange',
        accent: '#0063B1',
        backgroundColor: 'White',
        cardEmphasisBackgroundColor: '#F0F0F0',
        paddingRegular: 10,
        paddingWide: 10 * 2,
        subtle: '#767676',
        bubbleMaxWidth: 480,
		bubbleMinHeight: 40,
		bubbleMinWidth: 250, 
		bubbleNubOffset: 'bottom',
		bubbleNubSize: 0,
		bubbleTextColor: 'Black',
		bubbleBorderRadius: 9,
		bubbleFromUserBorderRadius: 9,
		suggestedActionBackground: 'rgba(255, 255, 255, 0.2)',
		suggestedActionHeight: 40,
		suggestedActionDisabledBorderColor: '#E6E6E6',
		sendBoxTextWrap: true,
	    hideUploadButton: false
        };
      
        // Add your BOT ID below 
        var BOT_ID ="6a9f2f3b-af94-4019-b64d-1bdabc6f820d"; 
        var theURL = "https://powerva.microsoft.com/api/botmanagement/v1/directline/directlinetoken?botId=" + BOT_ID;
	let params1 = (new URL(document.location)).searchParams;
    	let name = params1.get("surveyid")	
        // Triggers bot with initial message, in order to have greeting message render on load.
        const store = WebChat.createStore({}, ({ dispatch }) => next => action => {
          const { type } = action;
          if (action.type === "DIRECT_LINE/CONNECT_FULFILLED") {
              dispatch({
              type: "WEB_CHAT/SEND_EVENT",
              payload: {
                name: "startConversation",
                type: "event",
              },
            });
          }
          if (action.type === "DIRECT_LINE/CONNECT_FULFILLED") {
            dispatch({
              type: "WEB_CHAT/SEND_EVENT",
              payload: {
                name: "pvaSetContext",
                value: {
                  surveyid:name,
                },
              },
            });
          }
          return next(action);
        });		

      fetch(theURL)
            .then(response => response.json())
            .then(conversationInfo => {
                window.WebChat.renderWebChat(
                    {
                        directLine: window.WebChat.createDirectLine({
                            token: conversationInfo.token,
                            
                        }),
						store,
                        styleOptions
                    },
                    document.getElementById('webchat')
                );
            })
            .catch(err => console.error("An error occurred: " + err));
     

    </script>
	
	
  </body>
</html>
